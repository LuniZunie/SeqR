/*
  Copyright 2024 Cedric Hotopp

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/

body {
  --top_height: 7vh;
  --side_width: 30vw;
}

body:has(.side.collapsed) {
  --side_width: 0vmin;
}

body > .loading_screen {
  position: fixed;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;

  background: inherit;

  z-index: 2147483647;

  transition: all 500ms;
}

body > .loading_screen.hide {
  pointer-events: none;

  opacity: 0;
}

body > .loading_screen > svg {
  aspect-ratio: 1/1;

  position: absolute;
  left: calc(50% - 12.5vmin);;
  top: calc(50% - 12.5vmin);
  width: 25vmin;

  color: var(--text_1);

  animation: rotate360Clockwise 1.5s linear infinite;
}

body > .file_selector {
  pointer-events: none;

  position: fixed;
  left: -100vw;
  width: -100vw;

  padding-right: 0.5vw;

  opacity: 0;
}

body > .top {
  position: fixed;
  left: 0;
  top: 0;
  width: calc(100vw - var(--side_width) - 1vmin);
  height: calc(var(--top_height) - 2px);

  padding: 0.5vmin;

  background: var(--shade_0-0);

  border-bottom: 2px solid var(--shade_0-3); /* try 2px solid var(--shade_2-0) */

  z-index: 2;

  transition: all 500ms;
}

body > .top > * {
  line-height: calc(var(--top_height) - 2px);
}

body > .top > :is(.import, .delete_data, .draw, .export).button {
  aspect-ratio: 3/2;

  position: absolute;
  top: 1.5vh;
  height: calc(var(--top_height) - 2px - 2vh);

  border-radius: 0.5vmin;

  text-align: center;
  line-height: calc(var(--top_height) - 2px - 2vh);

  background: var(--shade_2-0);

  transition: all 250ms;
}

body > .top > :is(.import, .delete_data, .draw, .export).button.disabled {
  pointer-events: none;

  background: transparent;

  filter: brightness(0.1);
}

body > .top > :is(.import, .delete_data, .draw, .export).button svg {
  aspect-ratio: 1/1;

  position: relative;
  top: 12.5%;
  height: 75%;
}

body > .top > :is(.import, .delete_data, .draw, .export).button:hover:not(:has(.confirm:hover)) {
  background: var(--hover_color);

  filter: brightness(1.2);
}

body > .top > :is(.import, .delete_data, .draw, .export).button:hover:active:not(:has(.confirm:hover:active)) {
  background: var(--active_color);

  filter: brightness(1.4);
}

body > .top > :is(.import, .delete_data, .draw, .export).button.cancel {
  --hover_color: var(--red_hover);
  --active_color: var(--red_active);
}

body > .top > :is(.import, .delete_data, .draw, .export).button:not(.cancel) > svg:not(.x_icon),
body > .top > :is(.import, .delete_data, .draw, .export).button.cancel > .x_icon {
  display: inline-block;
}

body > .top > :is(.import, .delete_data, .draw, .export).button.cancel > svg:not(.x_icon),
body > .top > :is(.import, .delete_data, .draw, .export).button:not(.cancel) > .x_icon {
  display: none;
}

body > .top > .import.button {
  --hover_color: var(--blue_hover);
  --active_color: var(--blue_active);

  left: 1.5vh;
}

body > .top > .import.button.cancel {
  pointer-events: all;
}

body > .top > .import.types {
  position: absolute;
  left: calc(1.5vh - 1vmin);
  top: calc(var(--top_height) - 2px - 2vh + 3vh);
  max-width: calc(100vw - var(--side_width) - 3vh - 2vmin);
  height: calc(4vh + 1vmin);

  padding: 1vmin;
  border-radius: 1vmin;

  line-height: 4vh;

  white-space: nowrap;
  overflow: auto hidden;

  background: var(--shade_1-0);

  transform-origin: top left;
  transform: scale(1);

  transition: all 500ms;
}

body > .top > .import.types.hide {
  top: calc(var(--top_height) - 2px - 2vh);
  left: calc(calc(calc(var(--top_height) - 2px - 2vh) * 3/2 - 2vmin) / 2);

  opacity: 0;

  transform: scale(0);
}

body > .top > .import.types > .type {
  --hover_color: var(--blue_hover);
  --active_color: var(--blue_active);

  display: inline-block;

  min-width: calc(calc(var(--top_height) - 2px - 2vh) * 3/2 - 2vmin);

  padding: 0.5vmin 1vmin;
  margin: 0 0.25vw;
  border-radius: 1vmin;

  font-size: 2em;
  text-align: center;
  line-height: calc(4vh - 1vmin);

  background: var(--shade_2-0);

  transition: all 250ms;
}

body > .top > .import.types > .type:first-child {
  margin-left: 0;
}

body > .top > .import.types > .type:last-child {
  margin-right: 0;
}

body > .top > .import.types > .type:hover {
  background: var(--hover_color);

  filter: brightness(1.2);
}

body > .top > .import.types > .type:active:hover {
  background: var(--active_color);

  filter: brightness(1.4);
}

body > .top > .import.types > .type > svg {
  pointer-events: none;

  aspect-ratio: 1/1;

  height: 1em;
}

body > .text_editor {
  position: fixed;
  left: 10vw;
  top: 10vh;
  width: 80vw;
  height: 80vh;

  padding: 2vmin;
  border-radius: 1vmin;

  background: var(--shade_0-2);

  z-index: 4;

  transition: all 500ms;
}

body > .text_editor.hide {
  pointer-events: none;

  opacity: 0;
}

body > .text_editor > .title {
  position: absolute;
  left: 0;
  top: calc(-1vmin - 1em + 1px);
  width: 100%;
  height: 1em;

  padding: 0;
  margin: 0;
  border: 0;

  font-size: 2em;
  text-align: center;
  color: var(--text_1);
}

body > .text_editor > .title > .text {
  padding: 1vmin 2vmin;

  border-top-left-radius: 1vmin;
  border-top-right-radius: 1vmin;

  background: var(--shade_0-2);
}

body > .text_editor > .textarea {
  position: absolute;
  left: 2vmin;
  top: 2vmin;
  width: calc(100% - 6vmin);
  height: calc(100% - 13vmin);

  padding: 1vmin;
  border-radius: 1vmin;
  outline: 0;

  color: var(--text_1);

  white-space: nowrap;
  overflow: auto;

  background: var(--shade_1-0);
}

body > .text_editor > .file_name {
  position: absolute;
  right: 12vmin;
  bottom: 2vmin;
  width: calc(100% - 16vmin);
  height: 4vmin;

  padding: 1vmin;
  outline: 0;
  border: 0;
  border-radius: 1vmin;

  font-size: 1.5em;
  color: var(--text_1);

  background: var(--shade_1-0);
}

body > .text_editor > .file_name.blank ~ .save.button {
  pointer-events: none;

  background: transparent;

  filter: brightness(0.2);
}

body > .text_editor > .save.button {
  --hover_color: var(--blue_hover);
  --active_color: var(--blue_active);

  aspect-ratio: 3/2;

  position: absolute;
  right: 2vmin;
  bottom: 2vmin;
  height: 6vmin;

  border-radius: 1vmin;

  text-align: center;
  line-height: 6vmin;

  background: var(--shade_1-0);

  transition: all 250ms;
}

body > .text_editor > .save.button:hover {
  background: var(--hover_color);

  filter: brightness(1.2);
}

body > .text_editor > .save.button:hover:active {
  background: var(--active_color);

  filter: brightness(1.4);
}

body > .text_editor > .save.button > svg {
  aspect-ratio: 1/1;

  position: relative;
  top: 12.5%;
  height: 75%;
}

body > .text_editor_file_name_tooltip {
  transition: top 500ms;
}

body > .top > .delete_data.button {
  --hover_color: var(--red_hover);
  --active_color: var(--red_active);

  left: calc(calc(var(--top_height) - 2px - 2vh) * 3/2 + 3vh);
}

body > .top > .delete_data.button > .confirm > svg {
  top: 0;
  height: calc(calc(var(--top_height) - 2px - 2vh) * 0.7);
  width: calc(calc(var(--top_height) - 2px - 2vh) * 0.7 * 3/2);

  border-radius: 0.5vmin;
  padding: calc(calc(var(--top_height) - 2px - 2vh) * 0.2);

  background: var(--red_background);

  transition: height 500ms, opacity 500ms, transform 200ms, filter 250ms;
}

body > .top > .delete_data.button > .confirm:hover {
  filter: brightness(1.2);
}

body > .top > .delete_data.button > .confirm:hover:active {
  filter: brightness(1.4);
}

body > .top > .delete_data.button > .confirm.hide > svg {
  pointer-events: none;

  width: 0;
  height: 0;

  padding: 0;

  opacity: 0;

  transform: translateY(calc(calc(var(--top_height) - 2px - 2vh) * -1.1));

  transition: width 500ms, height 500ms, opacity 500ms, transform 200ms, filter 250ms, padding 250ms;
}

body > .top > .files {
  position: fixed;
  left: calc(calc(calc(var(--top_height) - 2px - 2vh) * 3/2 + 2vh) * 2 + 0.5vh);
  top: 1.5vh;
  width: calc(100vw - var(--side_width) - 2vmin - calc(calc(var(--top_height) - 2px - 2vh) * 3/2 + 2vh) * 4 - 4px - 3vh);
  height: calc(var(--top_height) - 2px - 2vh);

  padding: 0 1.5vh;
  border-right: 2px solid var(--shade_2-0);
  border-left: 2px solid var(--shade_2-0);

  line-height: calc(var(--top_height) - 2px - 2vh);

  transition: all 500ms;
}

body > .top > .files > .file {
  --hover_color: var(--blue_hover);
  --active_color: var(--light_blue_active);

  cursor: pointer;

  display: inline-block;

  height: calc(var(--top_height) - 2px - 4vh);

  padding: 0.5vmin 1vmin;
  margin: 0 0.5vmin;
  border-radius: 1vmin;

  line-height: calc(var(--top_height) - 2px - 4vh);
  font-size: 0.85em;

  background: var(--shade_2-0);

  transition: all 250ms;
}

body > .top > .files > .file:hover {
  background: var(--hover_color);
}

body > .top > .files > .file:active:hover {
  background: var(--active_color);
}

body > .top > .files > .file.hide {
  display: none;
}

body > .top > .files > .file.disabled {
  pointer-events: none;

  filter: brightness(0.2);
}

body > .top > .files > .file:nth-child(2) {
  margin-left: 0;
}

body > .top > .files > .file:last-child {
  margin-right: 0;
}

body > .file_data_list > .button.delete {
  --hover_color: var(--red_hover);
  --active_color: var(--red_active);

  position: fixed;
  width: 5vmin;
  height: 5vmin;

  padding: 1vmin;
  border-bottom-left-radius: 1vmin;
  border-bottom-right-radius: 1vmin;

  background: var(--shade_1-0);

  z-index: 4;

  transition: opacity 250ms;
}

body > .file_data_list > .button.delete:not(:has(.confirm:hover)):hover {
  background: var(--hover_color);

  filter: brightness(1.2);
}

body > .file_data_list > .button.delete:not(:has(.confirm:hover:active)):hover:active {
  background: var(--active_color);

  filter: brightness(1.4);
}

body > .file_data_list > .button.delete.hide {
  pointer-events: none;

  opacity: 0;
}

body > .file_data_list > .button.delete:has(.confirm:not(.hide)) {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

body > .file_data_list > .button.delete > .confirm {
  position: absolute;
  left: 0;
  top: 7vmin;
  width: calc(100% - 2vmin);
  height: calc(100% - 2vmin);

  padding: 1vmin;
  border-bottom-left-radius: 1vmin;
  border-bottom-right-radius: 1vmin;

  background: var(--red_background);

  transition: left 500ms, top 250ms, width 500ms, height 500ms, opacity 500ms, transform 400ms, filter 250ms, padding 500ms;
}

body > .file_data_list > .button.delete > .confirm.hide {
  pointer-events: none;

  left: 50%;
  top: 0;
  width: 0;
  height: 0;

  padding: 0;

  opacity: 0;

  transform: translateY(2vmin);
}

body > .file_data_list > .button.delete > .confirm:hover {
  filter: brightness(1.2);
}

body > .file_data_list > .button.delete > .confirm:hover:active {
  filter: brightness(1.4);
}

body > .file_data_list > .file_data {
  display: inline-block;

  position: fixed;
  max-height: 40vh;
  left: 50vw;
  top: 50vh;

  padding: 1vmin;
  border-radius: 1vmin;
  border-bottom-right-radius: 0;

  line-height: 2em;
  text-align: center;
  color: var(--text_2);
  overflow: hidden auto;

  background: var(--shade_0-2);

  z-index: 4;
}

body > .file_data_list > .file_data.hide {
  pointer-events: none;

  opacity: 0;
}

body > .file_data_list > .file_data a {
  cursor: pointer;

  color: var(--link_1);

  transition: all 100ms;
}

body > .file_data_list > .file_data a:hover {
  color: var(--link_hover_1);
}

body > .file_data_list > .file_data a:active:hover {
  color: var(--link_active_1);
}

body > .file_data_list > .file_data a:visited {
  color: var(--visited_link_1);
}

body > .file_data_list > .file_data a:visited:hover {
  color: var(--visited_link_hover_1);
}

body > .file_data_list > .file_data a:visited:active:hover {
  color: var(--visited_link_active_1);
}

body > .file_data_list > .file_data > :is(.raw, .process) {
  display: inline-block;

  border-radius: 1vmin;

  line-height: 1em;

  background: var(--shade_1-1);
}

body > .file_data_list > .file_data > :is(.raw, .process).name {
  margin-right: 0.5vmin;

  border-top-right-radius: 0.5vmin;
  border-bottom-right-radius: 0.5vmin;
}

body > .file_data_list > .file_data > :is(.raw, .process).extension {
  border-top-left-radius: 0.5vmin;
  border-bottom-left-radius: 0.5vmin;
}

body > .file_data_list > .file_data > .raw {
  padding: 1.5vmin;

  font-size: 1.2em;
}

body > .file_data_list > .file_data > .process {
  padding: 1vmin;
  margin-top: 0.5vmin;
  border-top-left-radius: 0;
  border-top-right-radius: 0;

  font-size: 0.9em;
  color: var(--subtitle_1);
}

body > .file_data_list > .file_data > .process.name {
  border-top-right-radius: 0;
}

body > .file_data_list > .file_data > .process.extension {
  border-top-left-radius: 0;
}

body > .file_data_list > .file_data > .title {
  margin: 0;
  margin-top: 2vmin;
}

body > .file_data_list > .file_data > .title:not(:has(~ .metadata > .datum:not(.template))):before {
  content: 'No ';
}

body > .file_data_list > .file_data > .metadata {
  --columns: 1000;

  display: grid;
  grid-template-columns: repeat(var(--columns), 1fr);

  max-width: 50vw;

  padding: 1vmin;
  border: 1px solid var(--shade_0-1);
  border-radius: 1vmin;

  font-size: 0.9em;

  background: var(--shade_0-3);
}

body > .file_data_list > .file_data > .metadata:not(:has(.datum:not(.template))) {
  display: none;
}

body > .file_data_list > .file_data > .metadata > .datum {
  display: block;

  width: calc(100% - 4vmin);
  height: 1em;

  margin: 0.5vmin;
  padding: 1.5vmin;
  border-radius: 1vmin;

  font-size: 0.9em;
  line-height: 1em;
  white-space: nowrap;
  overflow: auto hidden;

  background: var(--shade_1-1);
}

body > .file_data_list > .file_data > .metadata > .datum > .value > :is(span, a) {
  margin-left: 1ch;
}

body > .leaving_site_warning {
  position: fixed;
  left: 30vw;
  top: 50vh;
  width: calc(40vw - 4vmin);
  max-height: calc(100vh - 4vmin);

  padding: 2vmin;
  margin: 0;
  border: 0;
  border-radius: 1vmin;

  background: var(--shade_0-3);

  z-index: 6;

  transform: translateY(-50%);

  transition: all 500ms;
}

body > .leaving_site_warning.hide {
  pointer-events: none;

  opacity: 0;
}

body > .leaving_site_warning > .title {
  margin-top: 0;

  text-align: center;
  font-size: 2em;
  color: var(--error_1);
}

body > .leaving_site_warning > .title > .url {
  text-decoration: underline;
}

body > .leaving_site_warning > .text {
  text-align: center;
  font-size: 1.25em;
  color: var(--text_1);
}

body > .leaving_site_warning > .text > strong {
  color: var(--error_1);
}

body > .leaving_site_warning > .link {
  display: block;

  margin-top: 1em;
  padding: 0.5em;
  border-radius: 1vmin;

  font-size: 1.25em;
  color: var(--link_1);

  overflow: hidden;

  background: var(--shade_1-0);

  transition: all 250ms;
}

body > .leaving_site_warning > .bottom {
  position: relative;
  left: -2vmin;
  top: 2vmin;
  width: 100%;
  height: calc(1.5em + 3vmin);

  padding: 2vmin;
  border-bottom-left-radius: 1vmin;
  border-bottom-right-radius: 1vmin;

  background: var(--shade_0-2);
}

body > .leaving_site_warning > .bottom > .button {
  float: right;

  position: relative;
  top: 0;
  width: 7ch;
  height: 1em;

  padding: 1.5vmin;
  border-radius: 1vmin;

  text-align: center;
  font-size: 1.5em;
  line-height: 1em;

  background: var(--color);

  transition: all 250ms;
}

body > .leaving_site_warning > .bottom > .button:hover {
  background: var(--hover_color);

  filter: brightness(1.2);
}

body > .leaving_site_warning > .bottom > .button:active:hover {
  background: var(--active_color);

  filter: brightness(1.4);
}

body > .leaving_site_warning > .bottom > .button.stay {
  --color: var(--shade_1-2);
  --hover_color: var(--blue_hover);
  --active_color: var(--blue_active);

  right: 2vmin;
}

body > .leaving_site_warning > .bottom > .button.leave {
  --color: var(--red_active);
  --hover_color: var(--red_background);
  --active_color: var(--red_border);

  right: 0;
}

body > .cover.leaving_site {
  position: fixed;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;

  background: var(--shade_0-0);
  opacity: 0.5;

  z-index: 5;

  transition: all 500ms;
}

body > .top > .draw.button {
  --hover_color: var(--orange_hover);
  --active_color: var(--orange_active);

  right: calc(calc(var(--top_height) - 2px - 2vh) * 3/2 + 3vh);
}

body > .top > .export.button {
  --hover_color: var(--green_hover);
  --active_color: var(--green_active);

  right: 1.5vh;
}

body > .top > .export:is(.extensions, .name) {
  position: absolute;
  right: calc(1.5vh - 1vmin);
  top: calc(var(--top_height) - 2px - 2vh + 3vh);
  max-width: calc(100vw - var(--side_width) - 3vh - 2vmin);
  height: calc(4vh + 1vmin);

  padding: 1vmin;
  border-radius: 1vmin;

  line-height: 4vh;

  white-space: nowrap;
  overflow: auto hidden;

  background: var(--shade_1-0);

  transform-origin: top right;
  transform: scale(1);

  transition: all 500ms;
}

body > .top > .export.extensions > .extension {
  --hover_color: var(--blue_hover);
  --active_color: var(--blue_active);

  display: inline-block;

  min-width: calc(calc(var(--top_height) - 2px - 2vh) * 3/2 - 2vmin);

  padding: 0.5vmin 1vmin;
  margin: 0 0.25vw;
  margin-bottom: 1vmin;
  border-radius: 1vmin;

  font-size: 0.85em;
  text-align: center;

  background: var(--shade_2-0);

  transition: all 250ms;
}

body > .top > .export.extensions > .extension:first-child {
  margin-left: 0;
}

body > .top > .export.extensions > .extension:last-child {
  margin-right: 0;
}

body > .top > .export.extensions > .extension:hover {
  background: var(--hover_color);

  filter: brightness(1.2);
}

body > .top > .export.extensions > .extension:active:hover {
  background: var(--active_color);

  filter: brightness(1.4);
}

body > .top > .export:is(.extensions , .name).hide {
  top: calc(var(--top_height) - 2px - 2vh);
  right: calc(calc(calc(var(--top_height) - 2px - 2vh) * 3/2 - 2vmin) / 2);

  opacity: 0;

  transform: scale(0);
}

body > .top > .export.name {
  height: calc(4vh + 1vmin + 1em);
}

body > .top > .export.name > input[type='text'][name='export_file_name'] {
  width: min(max(calc(calc(100vw - var(--side_width)) / 3), 30ch), calc(100vw - var(--side_width) - 4vmin - 3vh));
  height: 4vh;

  padding: 0.5vmin 1vmin;
  outline: 0;
  border: 0;
  border-radius: 1vmin;

  color: var(--text_1);
  font-size: 1em;

  background: var(--shade_2-0);

  transition: all 250ms;
}

body > .top > .export.name > .sub_text {
  display: block;

  margin: 0;
  margin-top: 0.25em;
  padding: 0;

  color: var(--text_1);
  text-align: center;
  font-size: 0.75em;
  line-height: normal;
}

body > .top > .export.name > .sub_text > small {
  cursor: help;
}

body > .settings {
  display: block;
  aspect-ratio: 3/2;

  position: fixed;
  left: calc(calc(100vw - calc(min(95vw, 140vh) - 4vmin)) / 2);
  top: calc(calc(145vh - calc(min(95vw, 140vh) - 1vmin)) / 2);
  width: calc(min(95vw, 140vh) - 4vmin);

  padding: 2vmin;

  background: var(--shade_0-2);

  overflow: auto;

  z-index: 4;
}

body > .settings.hide {
  pointer-events: none;

  opacity: 0;
}

body > .settings > .title {
  text-align: center;
  font-size: 2.75em;

  margin-top: 0;
}

body > .settings > .selection {
  width: calc(100% - 4vmin);

  padding: 2vmin;
  border-radius: 2vmin;

  text-align: center;

  background: var(--shade_0-3);
}

body > .settings > .selection > .title {
  margin: 0;
  margin-bottom: 0.5em;

  font-size: 1.5em;
  line-height: 1em;
}

body > .settings > .selection > .range {
  cursor: pointer;

  position: relative;
  height: 6vh;
  width: 100%;

  border-radius: 1vmin;

  background: var(--shade_0-0)
}

body > .settings > .selection > .range > .shading {
  position: relative;
  height: 100%;

  border-radius: 1vmin;

  background: var(--dark_blue_background);
}

body > .settings > .selection > .range > :is(.min, .max) {
  position: absolute;
  top: 0;

  font-size: 1em;
  line-height: 6vh;

  z-index: 2;
}

body > .settings > .selection > .range > .min {
  left: 1ch;
}

body > .settings > .selection > .range > .max {
  right: 1ch;
}

body > .settings > .selection > .inputs {
  height: 6vh;
}

body > .settings > .selection > .inputs > input {
  width: min(10ch, 20%);
  height: 6vh;

  padding: 0 1ch;
  outline: 0;
  border: 0;
  border-radius: 1vmin;

  font-size: 1.25em;
  text-align: center;
  color: var(--text_1);

  background: var(--shade_0-1);
}

body > .settings > .selection > .inputs > input.min {
  float: left;
}

body > .settings > .selection > .inputs > input.max {
  float: right;
}

body > .settings > :is(.text_style, .padding, .background) {
  width: calc(100% - 4vmin);

  margin-top: 2vmin;
  padding: 2vmin;
  border-radius: 2vmin;

  text-align: center;

  background: var(--shade_0-3);
}

body > .settings > :is(.text_style, .padding, .background) > .title {
  margin: 0;
  margin-bottom: 0.5em;

  font-size: 1.5em;
  line-height: 1em;
}

body > .settings > .text_style > .content {
  columns: 2;
  column-gap: 1vmin;
}

body > .settings > .text_style > .content > .style,
body > .settings > .padding > div {
  display: inline-block;
  width: calc(100% - 6vmin);

  margin: 1vmin;
  padding: 2vmin;
  border-radius: 2vmin;

  background: var(--shade_1-0);
}

body > .settings > .text_style > .content > .style > .title,
body > .settings > .padding > div > .title {
  margin: 0;
  margin-bottom: 0.5em;

  font-size: 1.5em;
  line-height: 1em;
}

body > .settings > .text_style > .content > .style:is(.align, .character) > .content {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  align-content: center;
}

body > .settings > .text_style > .content > .style:is(.align, .character) > .content > .button {
  --hover_color: var(--blue_hover);
  --active_color: var(--blue_active);

  aspect-ratio: 1/1;

  position: relative;
  width: calc(100% - 1em);
  height: 6vh;

  margin: 0.5em;
  border-radius: 1vmin;

  text-align: center;
  line-height: 6vh;

  background: var(--shade_0-2);

  transition: all 250ms;
}

body > .settings > .text_style > .content > .style:is(.align, .character) > .content > .button:hover {
  background: var(--dark_blue_hover);

  filter: brightness(1.2);
}

body > .settings > .text_style > .content > .style:is(.align, .character) > .content > .button:active {
  background: var(--dark_blue_hover);

  filter: brightness(1.4);
}

body > .settings > .text_style > .content > .style:is(.align, .character) > .content > .button.selected {
  background: var(--blue_background);
}

body > .settings > .text_style > .content > .style.font > .content,
body > .settings > .padding > div > .content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-content: center;
}

body > .settings > .text_style > .content > .style.font > .content > .option,
body > .settings > .padding > div > .content > .option {
  width: calc(100% - 1.5em);

  margin: 0.25em;
  padding: 0.5em;
  border-radius: 1vmin;

  font-size: 1.25em;

  background: var(--shade_0-3);
}

body > .settings > .text_style > .content > .style.font > .content > .option.family {
  grid-column: 1 / span 2;
}

body > .settings > .text_style > .content > .style.font > .content > .option > label,
body > .settings > .padding > div > .content > .option > label {
  display: block;

  margin-bottom: 1vmin;
}

body > .settings > .text_style > .content > .style.font > .content > .option > input,
body > .settings > .padding > div > .content > .option > input,
body > .settings > .background > input {
  width: calc(100% - 1em);
  height: 2em;

  padding: 0 0.5em;
  outline: 0;
  border: 0;
  border-radius: 1vmin;

  font-size: 1em;
  text-align: left;
  color: var(--text_1);

  background: var(--shade_0-1);
}

body > .settings > .text_style > .content > .style.font > .content > .option > input[type='color'] {
  padding: 1vmin;
}

body > .settings > .text_style > .content > .style.preview {
  height: 1.5em;

  line-height: 1.5em;

  transition: background 250ms;
}

body > .settings > .text_style > .content > .style.preview > span {
  transition: color 250ms;
}

body > .settings > .padding {
  display: grid;
  grid-template-columns: 1fr 1fr;
}

body > .settings > .padding > .title {
  grid-column: 1 / span 2;
}

body > .settings > .background {
  text-align: left;

  margin-bottom: 2vmin;
}

body > .settings > .background > .title {
  text-align: center;
}

body > .settings > .background > input {
  width: calc(100% - 7vh - 1em);
  height: 6vh;

  font-size: 1.25em;
}

body > .settings > .background > .preview {
  aspect-ratio: 1/1;
  float: right;

  height: calc(6vh - 4px);

  border: 2px solid var(--shade_0-1);
  border-radius: 1vmin;
}

body > .settings > :is(.cancel, .save).button {
  aspect-ratio: 3/2;
  display: block;

  position: relative;
  bottom: 0;
  height: 6vmin;

  border-radius: 2vmin;

  text-align: center;

  background: var(--shade_2-0);

  transition: all 250ms;
}

body > .settings > :is(.cancel, .save).button:hover {
  background: var(--hover-color);

  filter: brightness(1.2);
}

body > .settings > :is(.cancel, .save).button:active {
  background: var(--active-color);

  filter: brightness(1.4);
}

body > .settings > .cancel.button {
  --hover-color: var(--red_hover);
  --active-color: var(--red_active);

  float: right;

  border-top-right-radius: 1vmin;
  border-bottom-right-radius: 1vmin;
}

body > .settings > .save.button {
  --hover-color: var(--orange_hover);
  --active-color: var(--orange_active);

  float: right;
  margin-left: 1vmin;

  border-top-left-radius: 1vmin;
  border-bottom-left-radius: 1vmin;
}

body > .settings > :is(.cancel, .save).button > svg {
  aspect-ratio: 1/1;

  position: relative;
  top: 12.5%;
  height: 75%;
}

body > .side {
  position: fixed;
  right: 0;
  top: 0;
  width: calc(var(--side_width) - 1vmin);
  height: 100vh;

  padding: 0.5vmin;
  border-left: 2px solid var(--shade_0-3); /* try 2px solid var(--shade_2-0) */

  background: var(--shade_0-0);

  z-index: 2;

  transition: all 500ms;
}

body > .side.collapsed:not(.bypass_collapsed) {
  padding: 0;
  right: -2px;
}

body > .side > .top {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: calc(var(--top_height) - 2px);

  padding: 0.5vmin;
  border-bottom: 2px solid var(--shade_0-3); /* try 2px solid var(--shade_2-0) */

  line-height: calc(var(--top_height) - 2px);

  background: var(--shade_0-0);

  z-index: 2;
}

body > .side > .top > .hide_border {
  position: absolute;
  left: -2px;
  top: 0;
  width: 2px;
  height: calc(var(--top_height) - 2px + 1vmin);

  background: var(--shade_0-0);

  z-index: 1;
}

body > .side > .top > .text {
  text-align: center;
}

body > .side > .top > .text > h1 {
  margin: 0;
}

body > .side > .top > .expand_collapse.button {
  --hover_color: var(--blue_hover);
  --active_color: var(--blue_active);

  aspect-ratio: 1/1;

  position: absolute;
  left: 1vmin;
  top: 1.5vh;
  height: calc(var(--top_height) - 2px - 2vh);

  border-radius: 50%;

  text-align: center;

  color: var(--shade_4-0);
  background: transparent;

  z-index: 2;

  transition: all 500ms;
}

body > .side.collapsed > .top > .expand_collapse.button {
  left: calc(2px - var(--top_height) + 2px + 2vh);
  top: calc(52vh - var(--top_height) + 2px);

  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  background: var(--shade_1-0);

  transform: rotateZ(180deg);
}

body > .side > .top > .expand_collapse.button:hover {
  color: var(--hover_color);

  filter: brightness(1.2);
}

body > .side > .top > .expand_collapse.button:hover:active {
  color: var(--active_color);

  filter: brightness(1.4);
}

body > .side > .top > .expand_collapse.button > svg {
  aspect-ratio: 1/1;

  position: relative;
  height: 100%;
}

body > .side > .content {
  position: absolute;
  left: 0;
  top: calc(var(--top_height) + 1vmin);
  width: calc(100% - 1vmin);
  height: calc(100vh - var(--top_height) - 2vmin);

  padding: 0.5vmin;

  background: inherit;

  z-index: 2;
}

body > .side > .content > :is(.add, .auto, .clean, .remove_all).button {
  aspect-ratio: 1/1;

  position: absolute;
  width: calc(var(--side_width) / 10);
  bottom: 2vmin;

  border-radius: 30%;

  text-align: center;

  background: var(--shade_2-0);

  z-index: 3;

  transition: all 250ms;
}

body > .side > .content > :is(.add, .auto, .clean, .remove_all).button:hover {
  background: var(--hover_color);

  filter: brightness(1.2);
}

body > .side > .content > :is(.add, .auto, .clean, .remove_all).button:hover:active {
  background: var(--active_color);

  filter: brightness(1.4);
}

body > .side > .content > :is(.add, .auto, .clean, .remove_all).button > svg {
  aspect-ratio: 1/1;

  position: relative;
  top: 12.5%;
  height: 75%;
}

body > .side > .content > .add.button {
  --hover_color: var(--green_hover);
  --active_color: var(--green_active);

  left: 2vmin;
}

body > .side > .content:has(.auto.button:not(.disabled)) > .add.button {
  border-top-right-radius: 10%;
  border-bottom-right-radius: 10%;
}

body > .side > .content > .auto.button {
  --hover_color: var(--blue_hover);
  --active_color: var(--blue_active);

  left: calc(2vmin + calc(var(--side_width) / 10) + 0.5vmin);

  border-top-left-radius: 10%;
  border-bottom-left-radius: 10%;
}

body > .side > .content > .auto.button.disabled {
  pointer-events: none;

  opacity: 0;
}

body > .side > .content > .clean.button {
  --hover_color: var(--orange_hover);
  --active_color: var(--orange_active);

  right: calc(2vmin + calc(var(--side_width) / 10) + 0.5vmin);

  border-top-right-radius: 10%;
  border-bottom-right-radius: 10%;
}

body > .side > .content > .clean.button.disabled {
  pointer-events: none;

  opacity: 0;
}

body > .side > .content > .remove_all.button {
  --hover_color: var(--red_hover);
  --active_color: var(--red_active);

  right: 2vmin;
}

body > .side > .content:has(.clean.button:not(.disabled)) > .remove_all.button {
  border-top-left-radius: 10%;
  border-bottom-left-radius: 10%;
}

body > .side > .content > .remove_all.button.disabled {
  pointer-events: none;

  opacity: 0;
}

body > .side > .content > .groups {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: calc(100% - 4vmin - var(--side_width) / 10 - 2px);

  border-bottom: 2px solid var(--shade_0-3); /* try 2px solid var(--shade_2-0) */

  overflow: hidden auto;

  background: var(--shade_0-1_2);

  z-index: 2;
}

body > .side > .content > .groups > .group {
  position: relative;
  width: calc(var(--side_width) - 4vmin);
  min-height: calc(6vmin + calc(var(--side_width) - 2vmin) / 10 + 1.5em + 2vmin);

  padding: 1vmin;
  margin: 1vmin;
  border-radius: 2vmin;

  background: var(--shade_0-3);

  z-index: 2;

  transition: all 750ms;
}

body > .side > .content > .groups > .group > .name {
  outline: 0;

  text-align: center;
  font-size: 1.5em;

  white-space: nowrap;
}

body > .side > .content > .groups > .group > .name:focus {
  overflow: auto hidden;
}

body > .side > .content > .groups > .group > .name:focus {
  right: 0 !important;
}

body > .side > .content > .groups > .group > :is(.edit, .format, .remove).button {
  aspect-ratio: 1/1;

  position: absolute;
  width: 10%;
  bottom: 2vmin;

  border-radius: 20%;

  text-align: center;

  background: var(--shade_2-0);

  transition: all 250ms;
}

body > .side > .content > .groups > .group > :is(.edit, .format, .remove).button:hover {
  background: var(--hover_color);

  filter: brightness(1.2);
}

body > .side > .content > .groups > .group > :is(.edit, .format, .remove).button:hover:active {
  background: var(--active_color);

  filter: brightness(1.4);
}

body > .side > .content > .groups > .group > :is(.edit, .format, .remove).button.disabled {
  pointer-events: none;

  background: transparent;

  filter: brightness(0.1);
}

body > .side > .content > .groups > .group > :is(.edit, .format, .remove).button > svg {
  aspect-ratio: 1/1;

  position: relative;
  top: 12.5%;
  height: 75%;
}

body > .side > .content > .groups > .group > .edit.button {
  --hover_color: var(--blue_hover);
  --active_color: var(--blue_active);

  left: 2vmin;

  border-top-right-radius: 10%;
  border-bottom-right-radius: 10%;
}

body > .side > .content > .groups > .group > .format.button {
  --hover_color: var(--yellow_hover);
  --active_color: var(--yellow_active);

  left: calc(2.5vmin + 10%);

  border-top-left-radius: 10%;
  border-bottom-left-radius: 10%;
}

body > .side > .content > .groups > .group > .remove.button {
  --hover_color: var(--red_hover);
  --active_color: var(--red_active);

  right: 2vmin;
}

body > .side > .content > .groups > .group > .data {
  position: relative;
  left: 1vmin;
  width: calc(var(--side_width) - 4vmin);

  margin-bottom: 0.5vmin;

  transition: all 750ms;
}

body > .side > .content > .groups > .group > .data:before,
body > .side > .content > .groups > .group > .data:after {
  content: '';

  pointer-events: none;

  position: absolute;
  top: 0;
  width: 4vmin;
  height: 90%;

  border-radius: 1vmin;

  z-index: 1;
}

body > .side > .content > .groups > .group > .data:before {
  left: 0;

  background-image: linear-gradient(to left, transparent, var(--shade_1-2) 90%);
}

body > .side > .content > .groups > .group > .data:after {
  right: calc(10vmin + 2em);

  background-image: linear-gradient(to right, transparent, var(--shade_1-2) 90%);
}

body > .side > .content > .groups > .group > .data:last-child {
  margin-bottom: calc(calc(var(--side_width) - 2vmin) / 10 + 3vmin);
}

body > .side > .content > .groups > .group > .data > .content {
  display: inline-block;

  width: calc(100% - 10vmin - 2em);
  height: 1em;

  padding: 1.5vmin 0;
  border-radius: 1vmin;

  line-height: 1em;
  white-space: nowrap;
  overflow: auto hidden;

  background: var(--shade_1-2);

  filter: brightness(1);

  transition: all 250ms;
}

body > .side > .content > .groups > .group > .data > .content:hover {
  filter: brightness(1.2);
}

body > .side > .content > .groups > .group > .data > .content:hover:active {
  filter: brightness(1.4);
}

body > .side > .content > .groups > .group > .data > .content > .tab {
  display: inline-block;

  width: 2ch;
  height: 1px;
}

body > .side > .content > .groups > .group > .data > .content > :is(.strand, .type, .file) {
  --length: 1;

  display: inline-block;

  position: relative;
  top: -0.75vmin;
  height: 1em;
  min-width: calc(1ch * var(--length, 1));

  padding: 0.75vmin 1vmin;
  margin: 0 0.25vmin;
  border-radius: 1vmin;

  line-height: 1em;
  font-size: 1em;
  text-align: center;

  background: linear-gradient(45deg, var(--shade_2-0), var(--shade_3-0));
}

body > .side > .content > .groups > .group > .data > :is(.copy, .paste).button {
  aspect-ratio: 1/1;
  display: block;

  float: right;
  height: calc(1em + 3vmin);

  margin-right: 2vmin;
  border-radius: 1vmin;

  text-align: center;

  background: var(--shade_2-0);

  transition: all 250ms;
}

body > .side > .content > .groups > .group > .data > :is(.copy, .paste).button:hover {
  background: var(--hover_color);

  filter: brightness(1.2);
}

body > .side > .content > .groups > .group > .data > :is(.copy, .paste).button:hover:active {
  background: var(--active_color);

  filter: brightness(1.4);
}

body > .side > .content > .groups > .group > .data > :is(.copy, .paste).button > svg {
  aspect-ratio: 1/1;

  position: relative;
  top: 12.5%;
  height: 75%;
}

body > .side > .content > .groups > .group > .data > .copy.button {
  --hover_color: var(--blue_hover);
  --active_color: var(--blue_active);

  margin-right: 1vmin;
}

body > .side > .content > .groups > .group > .data > .paste.button {
  --hover_color: var(--yellow_hover);
  --active_color: var(--yellow_active);
}

body > .side > .content > .groups > .group > .data > .paste.button.disabled {
  pointer-events: none;

  background: transparent;

  filter: brightness(0.1);
}

body > .previews {
  position: fixed;
  z-index: 3;
}

body > .previews > .preview {
  position: fixed;
  height: 0;

  border: 2px solid #222;
  border-radius: calc(var(--sidePanelWidth) / 2);

  opacity: 0;
  background: var(--color_bg, #000);

  transform: scale(0);
  transform-origin: center right;

  transition: opacity 250ms, transform 500ms;
}

body > .data_select {
  position: fixed;
  left: 5vw;
  top: 5vh;
  width: 90vw;
  height: 90vh;

  border: 2px solid var(--shade_1-0); /* try 2px solid var(--shade_2-0) */
  border-radius: 1vw;

  background: var(--shade_0-2);

  overflow: hidden auto;

  z-index: 4;

  transition: all 250ms;
}

body > .data_select.hide {
  pointer-events: none;

  opacity: 0;
}

body > .data_select > .content {
  column-count: 2;
  column-gap: 1vmin;

  position: absolute;
  left: 0;
  top: 0;
  width: calc(100% - 2vmin);

  padding: 1vmin;
}

@media (max-width: 1000px) {
  body > .data_select > .content {
    column-count: 1;
  }
}

body > .data_select > .content > .file.section {
  display: inline-block;
  column-count: 2;

  padding: 1vmin;
  margin-top: 1vmin;
  width: calc(100% - 2vmin);
  border-radius: 1vw;

  background: var(--shade_1-0);
}

body > .data_select > .content > .file.section > p.label {
  column-span: all;

  margin: 0.5vmin 0;

  text-align: center;
}

body > .data_select > .content > .file.section > .type.section {
  display: inline-block;

  width: calc(100% - 2vmin);

  margin-top: 1vmin;
  padding: 1vmin;
  border-radius: 0.5vmin;

  text-align: center;

  overflow: auto;

  background: var(--shade_1-2);
}

body > .data_select > .content > .file.section > .type.section:last-of-type:nth-of-type(2) {
  display: block;
  column-span: all;
}

body > .data_select > .content > .file.section > .type.section > p.label {
  position: relative;
  width: calc(100% - 0.5em);

  padding: 0 0.25em;
  margin: 0.5vmin 0;

  text-align: center;

  overflow: hidden;
}

body > .data_select > .content > .file.section > .type.section > p.label:before,
body > .data_select > .content > .file.section > .type.section > p.label:after {
  content: '';

  pointer-events: none;

  display: inline-block;

  position: absolute;
  top: 0;
  width: 8ch;
  height: 1.5em;

  z-index: 1;
}

body > .data_select > .content > .file.section > .type.section > p.label:before {
  left: 0;

  background-image: linear-gradient(to left, transparent, var(--shade_1-2) 90%);
}

body > .data_select > .content > .file.section > .type.section > p.label:after {
  right: 0;

  background-image: linear-gradient(to right, transparent, var(--shade_1-2) 90%);
}

body > .data_select > .content > .file.section > .type.section > p.label > span {
  display: block;

  width: calc(100% - 2em);

  padding: 0 1em;

  overflow: auto hidden;
}

body > .data_select > .content > .file.section > .type.section > .strand.button {
  display: inline-block;
  min-width: calc(1.5em + 0.5vmin);

  margin-top: 0.5vmin;
  margin-right: 0.5vmin;
  padding: 1vmin;
  border: 2px solid var(--shade_2-2);
  border-radius: 0.5vmin;

  text-align: center;
  font-size: 0.75em;

  background: var(--shade_2-2);

  transition: background 250ms, filter 250ms, border-color 250ms;
}

body > .data_select > .content > .file.section > .type.section > .strand.button:hover {
  filter: brightness(1.2);
}

body > .data_select > .content > .file.section > .type.section > .strand.button:hover:active {
  filter: brightness(1.4);
}

body > .data_select > .content > .file.section > .type.section > .strand.button:first-child {
  margin-top: 1vw;
}

body > .data_select > .content > .file.section > .type.section > .strand.button.selected {
  border: 2px solid var(--blue_border);

  background: var(--blue_background);
}

body > iframe.line_settings {
  aspect-ratio: 3/2;

  position: fixed;
  left: 0;
  top: 0;
  width: min(95vw, 140vh);

  outline: 0;
  border: 2px solid var(--shade_1-0); /* try 2px solid var(--shade_2-0) */
  border-radius: 1vw;

  background: var(--shade_0-2);

  overflow: hidden auto;

  z-index: 4;

  transform: translate(calc(50vw - 50%), calc(50vh - 50%));

  transition: opacity 250ms;
}

body > iframe.line_settings.hide {
  pointer-events: none;

  outline: 0;

  opacity: 0;
}

body > .content {
  position: fixed;
  left: 0;
  top: calc(var(--top_height) + 1vmin);
  width: calc(100vw - var(--side_width));
  height: calc(100vh - var(--top_height) - 1vmin);

  background: url('../../../assets/images/logo.png') no-repeat center center / contain;

  transition: all 500ms;
}

body > .content > .easel > .paper {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}